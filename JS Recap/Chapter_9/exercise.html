<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>

<script>

    // want to load a js file in browser using promise and alert if it is done


    // let myPromise = new Promise(function (myResolve, myReject) {
    //     fetch('E:\Projects\JS Recap\JS Recap\Chapter_9\exercise.html')
    //         .then(function (response) {
    //             if (response.ok) {
    //                 myResolve(); // resolve the promise if the file is successfully loaded
    //             } else {
    //                 myReject(); // reject the promise if there is an error loading the file
    //             }
    //         })
    //         .catch(function (error) {
    //             myReject(); // reject the promise if there is an error fetching the file
    //         });


    //     myResolve(); // when successful
    //     myReject();  // when error
    // });

    // // "Consuming Code" (Must wait for a fulfilled Promise)
    // myPromise.then(
    //     function (value) {
    //         alert("Value Success")
    //     },
    //     function (error) {
    //         alert("Value Failure")
    //     }
    // );




    // let c = 0;

    // let load = new Promise((resolve, reject) => {
    //     if (c == 0) {
    //         resolve("YES");
    //     } else {
    //         reject("NO");
    //     }
    // });

    // load.then((result) => {
    //     alert("Promise resolved with result: " + result);
    // })
    //     .catch((error) => {
    //         alert("Promise rejected with error: " + error);
    //     });


    // Basic Promise Creation:
    // Write a function called delayedResponse that returns a promise. The promise should resolve after a delay of 3 seconds with the message "Response received".


    // function generateRandomNumber() {

    // }

    // console.log(generateRandomNumber());


    // function delayedResponse() {
    //     return new Promise((resolve, reject) => {
    //         setTimeout(() => {
    //             let c = Math.floor(Math.random() * 10) + 1;
    //             console.log(c);
    //             if (c > 5) {
    //                 resolve("Greater than 5")
    //             }
    //             else {
    //                 reject("LESS THAN 5")
    //             }
    //         }, 3000)

    //     })
    //         .then((result) => {
    //             console.log(result);
    //             // console.log(c);
    //         }).catch((err) => {
    //             console.log("Error Occured");
    //         });
    // }

    // delayedResponse();


    // function promise1() {
    //     return new Promise((resolve, reject) => {
    //         setTimeout(() => {
    //             resolve("Promise 1 resolved");
    //         }, 1000); // Resolves after 1 second
    //     });
    // }

    // function promise2() {
    //     return new Promise((resolve, reject) => {
    //         setTimeout(() => {
    //             resolve("Promise 2 resolved");
    //         }, 2000); // Resolves after 2 seconds
    //     });
    // }

    // function combinePromises() {
    //     return Promise.all([promise1(), promise2()]);
    // }

    // combinePromises()
    //     .then(results => {
    //         console.log("All promises resolved:", results);
    //     })
    //     .catch(error => {
    //         console.error("Error:", error);
    //     });


    // async function loadJSFile() {
    //     try {
    //         const response = await fetch('path/to/js/file.js');
    //         if (response.ok) {
    //             alert("JS file loaded successfully");
    //         } else {
    //             throw new Error("Error loading JS file");
    //         }
    //     } catch (error) {
    //         alert("Error fetching JS file: " + error.message);
    //     }
    // }

    // loadJSFile();


    // below function creates a promise and gives resolve data (number)

    // function fetch() {
    //     return new Promise((resolve, reject) => {
    //         setTimeout(() => {
    //             resolve(3429847239847);
    //         }, 3000);
    //     });
    // }

    // // now load functino calls fetch() as async function and handles output using async and await 


    // async function Load() {
    //     let response = await fetch();
    //     console.log(response);
    // }

    // Load();

    // async function loadJSFile() {
    //     try {
    //         const response = await fetch('https://api.nasa.gov/planetary/apod?api_key=f4xbLPLDR6ibaSzBUvtafZi4jxQ1jJB6qjz2JJIY');
      
    //         if (response.ok) {
    //             alert("API loaded successfully");
    //             console.log(response.json());
    //         } else {
    //             throw new Error("Error loading API");
    //         }
    //     } catch (error) {
    //         alert("Error fetching API: " + error.message);
    //     }
    // }

    // loadJSFile();


    // function fetchData() {
    //     return new Promise((resolve, reject) => {
    //         setTimeout(() => {
    //             // Simulating a successful fetch
    //             reject(3429847239847);
    //             // If there was an error, you could reject the promise like this:
    //             // reject(new Error('Failed to fetch data'));
    //         }, 3000);
    //     });
    // }

    // async function loadData() {
    //     try {
    //         let response = await fetchData('https://apod.nasa.gov/apod/image/2404/CometTriple_Casado_1080.jpg');
    //         console.log(response);
    //     } catch (error) {
    //         console.log(new Error("Check again"));
    //     }
    // }

    // loadData();


    // async function loadJSFile() {
    //     try {
    //         const response = await fetch('pf4xbLPLDR6ibaSzBUvtafZi4jxQ1jJB6qjz2JJIY');
    //         if (response.ok) {
    //             alert("API LOADED");
    //         } else {
    //             throw new Error("Error loading JS file");
    //         }
    //     } catch (error) {
    //         alert("Error fetching JS file: " + error.message);
    //     }
    // }

    // loadJSFile();



    // async await multiple times and using promise.all

    // async function fetchDataAll() {
    //     try {
    //         const [d1, d2, d3] = await Promise.all([
    //             fetchDataAll1(),
    //             fetchDataAll2(),
    //             fetchDataAll3()
    //         ])

    //         console.log("d1 " + d1);
    //         console.log("d2 " + d2);
    //         console.log("d3 " + d3);
    //     }

    //     catch (error) {
    //         console.log(new Error("Chud Gai"));
    //     }
    // }


    // async function fetchDataAll1() {
    //     return new Promise(resolve => {
    //         setTimeout(() => {
    //             console.log("Data 1 ");
    //         }, 1000)
    //     })
    // }

    // async function fetchDataAll2() {
    //     return new Promise(resolve => {
    //         setTimeout(() => {
    //             console.log("Data 2 ");
    //         }, 2000)
    //     })
    // }

    // async function fetchDataAll3() {
    //     return new Promise(resolve => {
    //         setTimeout(() => {
    //             console.log("Data 3 ");
    //         }, 3000)
    //     })
    // }

    // fetchDataAll();


</script>

</html>